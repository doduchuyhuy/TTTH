<!DOCTYPE html>
<html lang="vn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font -->
    <link rel="stylesheet" href="./assets/fonts/stylesheet.css">
    <!-- Style -->
    <link rel="stylesheet" href="./assets/css/main.css">
    <!-- Scripts -->
    <!-- <script src="./assets/js/scripts.js"></script> -->
    <script src="./assets/js/jquery.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.7.0.js"></script> -->
    <!-- Font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
</head>
<body>
        <!-- <div id="signin-signup"></div>
        <div id="headerpro"></div>
        <div id="slideshow"></div>
        <div id="home"></div>
        <footer id="footer-nperf"></footer> -->

        <!-- <header id="header"></header> -->
        <!-- <article id="single-top-meta"></article>
        <article id="breadcrumb"></article> -->
        <!-- <article id="blog-list"></article> -->
        <!-- <article id="blog-details"></article> -->
        <!-- <footer id="footer-host"></footer> -->
        

        <!-- EXAM -->
        <div id="header-exam"></div>
        <div id="edu-quiz"></div>
        <!-- <div id="exam"></div> -->

        
        
    
    <script>
        // load("#header","./template/header.html");
        // load("#footer","./template/footer.html");
        // load("#blog-details","./template/blog-details.html");
        // load("#blog-list","./template/blog-list.html");
        // load("#single-top-meta","./template/single-top-meta.html");
        // load("#breadcrumb","./template/breadcrumb.html");
        $(document).ready(function(){
            $('#signin-signup').load("./template/header-signin-signup.html");
            $('#headerpro').load("./template/headerpro.html", function(){
                $('.toggle-headerpro').on("click", function(){
                $('.bars').toggleClass('active');
            });
                $('.toggle-search').on("click", function(){
                $('#myModalsearch').toggleClass('active');
                
            });
                $('.box-search').on("click", function(e){
                    e.stopPropagation(); 
                });
                
            });
            $('#header').load("./template/header.html", function(){
                $('.js-toggle').on("click", function(){
                $('#navbar').toggleClass('show');
            });
            });
            $('#slideshow').load("./template/slideshow.html",function(){
                var reveals = document.querySelectorAll('.reveal');
                for(var i =0; i< reveals.length; i++){
                    var windowheight = window.innerHeight;
                    var revealtop = reveals[i].getBoundingClientRect().top;
                    var revealpoint = 200;
                    if(revealtop < windowheight - revealpoint){
                    reveals[i].classList.add('active');
                    }else{
                    reveals[i].classList.remove('active');
                    }
                }
            });
            $('#home').load("./template/home.html");
            $('#footer').load("./template/footer.html");
            $('#blog-details').load("./template/blog-details.html", function(){
            var modal = document.getElementById('myModal');
          // Lấy đường dẫn của hình ảnh và gán vào trong phần Modal
            var images = document.getElementsByClassName('myImg');
            var modalImg = document.getElementById("img01");
            for (var i = 0; i < images.length; i++) {
            var img = images[i];
            // and attach our click listener for this image.
            img.onclick = function(evt) {
            modal.style.display = "block";
            modalImg.src = this.src;
                }
            }
            modal.onclick = function(evt) { 
            modal.style.display = "none";
            }            
            });
            $('#blog-list').load("./template/blog-list.html");
            $('#single-top-meta').load("./template/single-top-meta.html");
            $('#breadcrumb').load("./template/breadcrumb.html");
            $('#footer-nperf').load("./template/footer-nperf.html");
            //EXAM
            $('#exam').load("./template/exam.html",function(){
            //     $('.dropdown').click(function() {
            //     $(this).toggleClass('active'); // Toggle class 'active' sử dụng jQuery
            // });
            // // Bổ sung: Đóng dropdown khi người dùng click ngoài phạm vi của dropdown
            //     $(document).on('click', function(e) {
            //         if (!$(e.target).closest('.dropdown').length) {
            //             $('.dropdown').removeClass('active');
            //         }
            //     });

            //     $('.dropdown .option div').click(function() {
            //     var value = $(this).data('value'); // Lấy giá trị từ data-value
            //     var textBoxId = $(this).closest('.dropdown').find('.textBox').attr('id');
            //     $('#' + textBoxId).val(value ? $(this).text().trim() : ''); // Nếu value là rỗng, reset textBox
            // });

            $('.dropdown .matching-select div').click(function() {
                var value = $(this).data('value'); // Lấy giá trị từ data-value
                var textBoxId = $(this).closest('.dropdown').find('.textBox').attr('id');
                $('#' + textBoxId).val(value ? $(this).text().trim() : ''); // Nếu value là rỗng, reset textBox
            });

            $('.dropdown').click(function() {
                // Đóng tất cả các dropdown khác trước khi toggle dropdown hiện tại
                $('.dropdown').not(this).removeClass('active');
                $(this).toggleClass('active');
            });

            // Đóng dropdown khi click ngoài
            $(document).on('click', function(e) {
                if (!$(e.target).closest('.dropdown').length) {
                    $('.dropdown').removeClass('active');
                }
            });



            });
            $('#header-exam').load("./template/header-exam.html",function(){

                // let lastScroll = 0;
                // const $body = $("body"); // Lưu trữ tham chiếu tới 'body'
                // $(window).on("scroll", function() {
                //     const currentScroll = $(this).scrollTop();

                //     if (currentScroll <= 0) {
                //         $body.removeClass("scroll-up");
                //         return;
                //     }
                //     if (currentScroll > lastScroll && !$body.hasClass("scroll-down")) {
                //         $body.removeClass("scroll-up").addClass("scroll-down");
                //     } else if (currentScroll < lastScroll && $body.hasClass("scroll-down")) {
                //         $body.removeClass("scroll-down").addClass("scroll-up");
                //     }
                //     lastScroll = currentScroll;
                // });

            });
            $('#edu-quiz').load("./template/edu-quiz.html", function(){
                loadselect();
                  // Xử lý khi nhấn nút Nộp bài
                    $('#submitBtn').click(function() {
                        $('#modalOverlay, #resultModal').fadeIn(); // Hiển thị cả lớp phủ và modal
                    });

                    // Xử lý khi nhấn nút Đóng trong modal
                    $('#closeModal').click(function() {
                        $('#modalOverlay, #resultModal').fadeOut(); // Ẩn cả lớp phủ và modal
                    });

                    // Xử lý khi nhấn vào lớp phủ ngoài để tắt modal
                    $('#modalOverlay').click(function(e) {
                        // Kiểm tra xem sự kiện click có phát sinh từ modalOverlay (không phải từ modal-content)
                        if (e.target.id === "modalOverlay") {
                            $('#modalOverlay, #resultModal').fadeOut(); // Ẩn cả lớp phủ và modal
                        }
                    });

                    var rating = 0; // Khởi tạo số sao đánh giá là 0

                    // Xử lý sự kiện hover vào sao
                    $('.fa-star').hover(function() {
                        // Xóa lớp 'gold' khỏi tất cả các sao
                        $('.fa-star').removeClass('gold');
                        // Lấy index của sao đang hover và bôi vàng các sao từ đầu đến sao này
                        var index = $(this).index();
                        $('.fa-star:lt(' + (index + 1) + ')').addClass('gold');
                    }, function() {
                        // Khi không hover nữa, xóa màu vàng khỏi tất cả các sao
                        $('.fa-star').removeClass('gold');
                        // Áp dụng lại màu vàng cho các sao đã đánh giá
                        $('.fa-star:lt(' + rating + ')').addClass('gold');
                    });

                    // Xử lý sự kiện click vào sao
                    $('.fa-star').click(function() {
                        rating = $(this).index() + 1; // Cập nhật số sao đánh giá
                        $('.fa-star').removeClass('gold'); // Xóa lớp 'gold' khỏi tất cả các sao
                        $('.fa-star:lt(' + rating + ')').addClass('gold'); // Bôi vàng các sao đã chọn
                    });

                    $('.contentBx').click(function() {
                        $(this).toggleClass('active');
                    });


                


                    
                
            });   
        });
    </script>
    <script src="./assets/js/scriptsHuy.js"></script>
    <script src="./assets/js/script-select.js"></script>
</body>
</html>